(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))i(t);new MutationObserver(t=>{for(const o of t)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function d(t){const o={};return t.integrity&&(o.integrity=t.integrity),t.referrerPolicy&&(o.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?o.credentials="include":t.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(t){if(t.ep)return;t.ep=!0;const o=d(t);fetch(t.href,o)}})();document.addEventListener("DOMContentLoaded",()=>{const m=document.querySelector(".input-name"),c=document.querySelector(".input-price"),d=document.querySelector(".input-amount"),i=document.querySelector(".addProductBtn"),t=document.querySelector(".products-table"),o=document.querySelector(".result"),l=document.querySelector(".total");let r=[];localStorage.getItem("productsList")&&(r=JSON.parse(localStorage.getItem("productsList"))),r.forEach(e=>y(e)),i.addEventListener("click",C);function C(){const e=m.value,n=c.value,s=d.value;if(e===""||e===""||e===""){alert("Заполните все поля");return}const u={id:Date.now(),title:e,price:n,amount:s,createdAt:new Date};r.push(u),p(),f(),y(u),m.value="",c.value="",d.value=""}function f(){localStorage.setItem("productsList",JSON.stringify(r))}function y(e){const n=document.createElement("tr");n.id=e.id;const s=document.createElement("td");s.textContent=e.title,n.appendChild(s);const u=document.createElement("td");u.textContent=e.price,n.appendChild(u);const h=document.createElement("td");h.textContent=e.amount,n.appendChild(h);const S=document.createElement("td");S.textContent=Number(e.amount)*Number(e.price),n.appendChild(S);const g=document.createElement("td"),a=document.createElement("button");a.classList.add("delete-btn"),a.textContent="Удалить",g.appendChild(a),n.appendChild(g),a.addEventListener("click",()=>{r=r.filter(L=>L.id!==e.id),f(),p(),n.remove()}),t.appendChild(n),p()}function p(){let e=0;for(let n=0;n<r.length;n++)e+=Number(r[n].price)*Number(r[n].amount);o.textContent="Общий итог: "+e+" руб.",l.textContent=e+" рублей"}});
